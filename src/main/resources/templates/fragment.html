<!doctype html>
<html xmlns:th="http://thymeleaf.org">

<head th:fragment="links">
<meta charset="UTF-8">
<title>Início</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
	integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
	crossorigin="anonymous"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
	integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
	crossorigin="anonymous"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous"></script>

<script src='https://kit.fontawesome.com/a076d05399.js'></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous"></script>
<script src='https://kit.fontawesome.com/a076d05399.js'></script>



<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" th:href="@{/css/signedIn.css}">



</head>

<body>
	<!-- DEFAULT TOP NAV -->
	<div th:fragment="deftopnav">

        <div class="modal fade bd-example-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content mx-auto border-0">

                    <div class="modal-body p-0 ">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <div class="login">
                            <img th:src="@{/imgs/undraw_Login_re_4vu2.svg}">
                            <form style="width: 55%" id="regForm" method="post" th:action="@{/redirectLogin}">
                                <input placeholder="Email" required class="input mt-2" style="width: 100%" name="emaillogin" id="emaillogin">
                                <input placeholder="senha" type="password" required name="senhalogin" id="senhalogin"
                                       class="input my-2" style="width: 100%">
                                <input type="submit" class="index blue" style="display: inherit; margin: 0 auto;"  value="Entrar">
                            </form>
                            <div class="message">
                                Não tem conta? <span>Se cadastre</span>
                            </div>
                        </div>
                        <div class="sign-up text-center justify-content-center" >
                            <img th:src="@{/imgs/undraw_sign_in_e6hj.svg}">
                            <a href="/formDev">
                                <button class="index blue text-center mt-2" style="display: block; margin: 0 auto">
                                    Sou desenvolvedor
                                </button>
                            </a>
                            <a href="/formDev">
                                <button class="index blue text-center my-2" style="display: block; margin: 0 auto">
                                    Sou empresa
                                </button>
                            </a>
                            <div class="message">
                                Já é cadastrado? <span>Entrar</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
		<nav class="nav">

			<img alt="Logo" th:src="@{/imgs/df-logo.svg}" />
			<div class="search">
				<input placeholder="Pesquise..." />
				<div class="item">
					<i style='font-size: 15px; justify-content: flex-end' class='fas'>&#xf002;</i>
				</div>
			</div>

			<div class="sign">
				<form id="regForm" method="post" th:action="@{/redirectLogin}"
					style="display: flex; margin: auto 0">
					<input type="email" class="input mr-1" placeholder="E-mail"
						style="margin: auto 0" name="emaillogin" id="emaillogin">
					<input placeholder="Senha" class="input mr-1" type="password"
						style="margin: auto 0" name="senhalogin" id="senhalogin">
					<input type="submit" class="index blue" style="display: inherit"
						id="login">
				</form>
				<button data-toggle="modal" data-target=".bd-example-modal"
					class="index ml-2" style="display: inherit">Cadastrar</button>
			</div>
			<div class="sign-button" data-toggle="modal"
				data-target=".bd-example-modal">
				<i class="fas fa-user-circle"></i>
			</div>

			<script th:inline="javascript">
				/*<![CDATA[*/

				$('#regForm').submit(function(e) {
					var email = document.getElementById('emaillogin').value
					var senha = document.getElementById('senhalogin').value
					$.ajax({
						url : "/login",
						type : "GET",
						contentType : "application/json",
						data : {
							"email" : email,
							"senha" : senha
						},
						success : function(response) {
							if (response) {
								document.getElementById('regForm').submit();
							}

							else {
								alert('psr amigao')
								e.preventDefault()
							}
						},
						error : function(xhr) {
							//Do Something to handle error
							console.log('deu pau')
						}
					})
					event.preventDefault()
				})

				/*]]>*/
			</script>

		</nav>

	</div>
	<!-- LOGGED TOP NAV -->
	<nav th:fragment="loggedtopnav" class="nav">
		<script th:inline="javascript">
			var logo = function() {
				if ($(window).width() <= 710) {
					$(".logsdo").addClass("small");
					$(".buscar").hide();
				} else {
					$(".logo").removeClass("small");
					$(".buscar").show();
				}
			};

			$(window).on("resize", logo);
			$(window).on("load", logo);
			const search = function(pesquisa) {

				$.ajax({
					url : 'searchResult',
					type : "GET",
					contentType : "application/json",
					async : false,
					data : {
						'texto' : $('#search').val().trim().split(' ')
					},
					success : function(response) {
						console.log('deu certo')
						$('#container').html(response)
					},
					error : function(error) {
						console.log(error)
					}
				})

			}
		</script>

		<div class="search">
			<form id="searchForm" th:action="@{/search}" method="post">
				<input type="text" name="search" id="search"
					placeholder="Pesquise..." />
			</form>
			<div class="item">
				<i style='font-size: 15px; justify-content: flex-end' class='fas'>&#xf002;</i>
			</div>
		</div>

		<div class="nav-right">
			<div class="item">
				<i style='font-size: 20px' class='far'>&#xf0f3;</i>
			</div>
			<div class="item hovered">
				<i style='font-size: 20px' class='far'>&#xf007;</i>
			</div>
		</div>
	</nav>

	<!-- DEVELOPER SIDEBAR -->
	<div th:fragment="sidebardev" class="sidebar-column">
		<ul class="sidebar">
			<li class="icon"><img alt="Logo" th:src="@{/imgs/df-logo.svg}" />
			</li>
			<li class="item" id="inicio"><i class="fas fa-home"></i> <a
				th:attr="href='/devDashboard'">Início</a></li>
			<li class="item" id="desafios"><i class="fas fa-th-list"></i> <a
				th:attr="href='/devMeusDesafios'">Desafios inscritos</a></li>
			<li class="item" id="config"><i class="fas fa-cog"></i> <a
				th:attr="href='/devConfiguracoes'">Configurações</a></li>
			<li class="item"><i class="fas fa-sign-out-alt"></i> <a
				th:attr="href='/logout'">Sair</a></li>
		</ul>
		<script>
			const url = window.location.href

			if (url === 'http://localhost:8080/devDashboard')
				document.getElementById('inicio').className += ' active'
			if (url === 'http://localhost:8080/devMeusDesafios')
				document.getElementById('desafios').className += ' active'
			if (url === 'http://localhost:8080/devConfiguracoes')
				document.getElementById('config').className += ' active'
		</script>

	</div>
	<!-- EMPRESA SIDEBAR -->
	<div th:fragment="sidebaremp" class="sidebar-column">
		<ul class="sidebar">
			<li class="icon"><img alt="Logo" th:src="@{/imgs/df-logo.svg}" />
			</li>
			<li class="item" id="inicio"><i class="fas fa-home"></i> <a
				th:attr="href='/empDashboard'">Início</a></li>
			<li class="item" id="desafios"><i class="fas fa-th-list"></i> <a
				th:attr="href='/empMeusDesafios'">Meus Desafios</a></li>
			<li class="item" id="config"><i class="fas fa-cog"></i> <a
				th:attr="href='/empConfiguracoes'">Configurações</a></li>
			<li class="item"><i class="fas fa-sign-out-alt"></i> <a
				th:attr="href='/logout'">Sair</a></li>
		</ul>
		<script>
			const url = window.location.href

			if (url === 'http://localhost:8080/empDashboard')
				document.getElementById('inicio').className += ' active'
			if (url === 'http://localhost:8080/empMeusDesafios')
				document.getElementById('desafios').className += ' active'
			if (url === 'http://localhost:8080/empConfiguracoes')
				document.getElementById('config').className += ' active'
		</script>

	</div>
	<!-- CORP SIDEBAR -->
	<!-- FOOTER -->

	<footer class="footer row mx-0" th:fragment="footer">

		<div class="container-fluid py-5 mx-0">
			<div class="row">
				<div class="col-12 divisor"></div>
				<div class="col-12 col-lg text-center">
					<img class="img-fluid noturno" th:src="@{/imgs/df-logo.svg}">

				</div>
				<div class="col-6 col-md">
					<h5>
						<i class="fas fa-users"></i> Desenvolvedores
					</h5>
					<ul class="list-unstyled text-small">
						<li><a href="https://github.com/Erigoddess">Erica
								Medeiros</a></li>
						<li><a href="https://github.com/MarlonFL15">Marlon de
								Faria</a></li>
						<li><a href="https://github.com/mnik3007">Monike Freitas</a>
						</li>
						<li><a href="https://github.com/Ronaldo64">Ronaldo Costa</a>
						</li>
					</ul>
				</div>
				<div class="col-6 col-md">
					<h5>
						<i class="fas fa-map-marker-alt"></i> Endereço
					</h5>
					<ul class="list-unstyled text-small">
						<li><a href="https://goo.gl/maps/hEkmvv2gVBFypU7g6">Av.
								Sete de Setembro, 1975, IFAM, Manaus, AM - Brasil</a></li>
					</ul>
				</div>
				<div class="col-6 col-md">
					<h5>
						<i class="fas fa-at"></i> Contato
					</h5>
					<ul class="list-unstyled text-small">
						<li><a href="#">devfinder@gmail.com</a></li>
					</ul>
				</div>
			</div>
		</div>
	</footer>
</body>
</html>
