<!doctype html>
<html xmlns:th="http://thymeleaf.org">

<head th:fragment="links">
<meta charset="UTF-8">
<title>In√≠cio</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
	integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
	crossorigin="anonymous"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
	integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
	crossorigin="anonymous"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous"></script>

<script src='https://kit.fontawesome.com/a076d05399.js'></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous"></script>
<script src='https://kit.fontawesome.com/a076d05399.js'></script>



<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
	integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
	crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" th:href="@{/css/signedIn.css}">



</head>

<body>
	<!-- DEFAULT TOP NAV -->
	<div th:fragment="deftopnav">
		<script> 
                var logo= function(){
                    if($( window ).width()<=690{
                        $(".logsdo").addClass("small");
                    $(".buscar").hide();
                    }else{
                        $(".logo").removeClass("small");
                        $(".buscar").show();
                    }
                };
                $(window).on("resize", logo);
                $(window).on("load", logo);   

                var valida = function(){
		    		var email = document.getElementById('emaillogin').value
		    		var senha = document.getElementById('senhalogin').value		    		
		    		console.log(email)
		    		console.log(senha)
		    		$.ajax({
			    	    url: "/login",
			    	    type: "GET",
			            contentType: "application/json",
			    	    data:{
			    	    	"email":email,
			    	    	"senha":senha
			    	    },
			    	    success: function(response) {
			    	    	console.log(email+' '+senha)
			    	       if(response){
			    	    	   document.getElementById('regForm').submit();
			    	       }

			    	       else{
			    	    	   document.getElementById('smallError').style.display='block';
			    	    	   console.log('uau')
			    	       }
		    	        },
			    	    error: function(xhr) {
		    	            //Do Something to handle error
		    	            console.log('deu pau')
		    	        }
			    	})
			    
		    	}

            </script>
		<script th:inline="javascript">
			/*<![CDATA[*/
			
			    var flag = [[${flag}]]; //Your Thymleaf variable
			    var valida = function(){
		    		var email = document.getElementById('emaillogin').value
		    		var senha = document.getElementById('senhalogin').value		    		
		    		console.log(email)
		    		console.log(senha)
		    		$.ajax({
			    	    url: "/login",
			    	    type: "GET",
			            contentType: "application/json",
			    	    data:{
			    	    	"email":email,
			    	    	"senha":senha
			    	    },
			    	    success: function(response) {
			    	       if(response){
			    	    	   document.getElementById('regForm').submit();
			    	       }

			    	       else{
			    	    	   document.getElementById('smallError').style.display='block';
			    	    	   console.log('uau')
			    	       }
		    	        },
			    	    error: function(xhr) {
		    	            //Do Something to handle error
		    	            console.log('deu pau')
		    	        }
			    	})
			    
		    	}
			    window.onload = function() {		    	      
			        if(flag){
			    	    $('#modalExemplo').modal('show');
			        }
			   };
			   
			   $('#closeModal').on('click', function(){
					document.getElementById('smallError').style.display='none';
			   });
			
			
			/*]]>*/
		</script>

<nav class="nav">

            <img alt="Logo" src="/static/imgs/df-logo.svg">
            <div class="search">
            	<form id="searchForm" th:action="@{/search}" method="post">
                <input  name="search" id="search" placeholder="Pesquise..." />
                </form>
                <div class="item">
                    <i style='font-size:15px; justify-content: flex-end' class='fas'>&#xf002;</i>
                </div>
            </div>

            <div class="sign">
                <form>
                    <input type="email" placeholder="Email">
                    <input placeholder="senha" type="password">
                    <input type="submit">
                </form>
                <button data-toggle="modal" data-target=".bd-example-modal">Cadastrar</button>
            </div>
            <div class="sign-button" data-toggle="modal" data-target=".bd-example-modal">Icon</div>

        </nav>
        
				<!--Modal de Login-->
		<div class="modal fade" id="modalExemplo" role="dialog"
			aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog text-center modal-dialog-centered">
				<div class="modal-content modal-login border-0 shadow p-5">
					<div class="">
						<div class="row">
							<div class="col-sm-6 user-img">
								<h3>Login</h3>
								<svg id="f080dbb7-9b2b-439b-a118-60b91c514f72" class="icon-form"
									data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"
									height="100" viewBox="0 0 528.71721 699.76785">
									<title>Login</title><rect y="17.06342" width="444" height="657"
										fill="#535461" />
									<polygon
										points="323 691.063 0 674.063 0 17.063 323 0.063 323 691.063"
										fill="#49c2d0" />
									<circle cx="296" cy="377.06342" r="4" fill="#535461" />
									<polygon
										points="296 377.66 298.773 382.463 301.545 387.265 296 387.265 290.455 387.265 293.227 382.463 296 377.66"
										fill="#535461" />
									<polygon
										points="337 691.063 317.217 691 318 0.063 337 0.063 337 691.063"
										fill="#49c2d0" />
									<g opacity="0.1">
									<polygon
										points="337.217 691 317.217 691 318.217 0 337.217 0 337.217 691"
										fill="#fff" /></g>
									<circle cx="296" cy="348.06342" r="13" opacity="0.1" />
									<circle cx="296" cy="346.06342" r="13" fill="#535461" />
									<line x1="52.81943" y1="16.10799" x2="52.81943" y2="677.15616"
										fill="none" stroke="#000" stroke-miterlimit="10"
										stroke-width="2" opacity="0.1" />
									<line x1="109.81943" y1="12.10799" x2="109.81943"
										y2="679.15616" fill="none" stroke="#000"
										stroke-miterlimit="10" stroke-width="2" opacity="0.1" />
									<line x1="166.81943" y1="9.10799" x2="166.81943" y2="683"
										fill="none" stroke="#000" stroke-miterlimit="10"
										stroke-width="2" opacity="0.1" />
									<line x1="223.81943" y1="6.10799" x2="223.81943" y2="687.15616"
										fill="none" stroke="#000" stroke-miterlimit="10"
										stroke-width="2" opacity="0.1" />
									<line x1="280.81943" y1="3.10799" x2="280.81943" y2="688"
										fill="none" stroke="#000" stroke-miterlimit="10"
										stroke-width="2" opacity="0.1" />
									<ellipse cx="463.21721" cy="95.32341" rx="39.5" ry="37"
										fill="#2f2e41" />
									<path
										d="M683.8586,425.93948l-10,14s-48,10-30,25,44-14,44-14l14-18Z"
										transform="translate(-335.6414 -100.11607)" fill="#ffb8b8" />
									<path
										d="M735.8586,266.93948s-13,0-16,18-6,78-6,78-42,55-35,62,15,20,20,18,48-61,48-61Z"
										transform="translate(-335.6414 -100.11607)" fill="#49c2d0" />
									<path
										d="M735.8586,266.93948s-13,0-16,18-6,78-6,78-42,55-35,62,15,20,20,18,48-61,48-61Z"
										transform="translate(-335.6414 -100.11607)" opacity="0.1" />
									<path
										d="M775.8586,215.93948s-1,39-13,41-8,15-8,15,39,23,65,0l5-12s-18-13-10-31Z"
										transform="translate(-335.6414 -100.11607)" fill="#ffb8b8" />
									<path
										d="M708.8586,455.93948s-59,110-37,144,55,104,60,104,33-14,31-23-32-76-40-82-4-22-3-23,34-54,34-54-1,84,3,97-1,106,4,110,28,11,32,5,16-97,8-118l15-144Z"
										transform="translate(-335.6414 -100.11607)" fill="#2f2e41" />
									<path
										d="M762.8586,722.93948l-25,46s-36,26-11,30,40-6,40-6l22-16v-46Z"
										transform="translate(-335.6414 -100.11607)" fill="#2f2e41" />
									<path
										d="M728.8586,696.93948l13,31s5,13,0,16-19,21-10,23a29.29979,29.29979,0,0,0,5.49538.5463,55.56592,55.56592,0,0,0,40.39768-16.43936l8.10694-8.10694s-27.77007-63.94827-27.385-63.47414S728.8586,696.93948,728.8586,696.93948Z"
										transform="translate(-335.6414 -100.11607)" fill="#2f2e41" />
									<circle cx="465.21721" cy="105.82341" r="34" fill="#ffb8b8" />
									<path
										d="M820.3586,253.43948l-10.5,10.5s-32,12-47,0c0,0,5.5-11.5,5.5-10.5s-43.5,7.5-47.5,25.5,3,49,3,49-28,132-17,135,114,28,113,9,8-97,8-97l35-67s-5-22-17-29S820.3586,253.43948,820.3586,253.43948Z"
										transform="translate(-335.6414 -100.11607)" fill="#49c2d0" />
									<path
										d="M775.8586,448.93948l-13,8s-50,34-24,40,41-24,41-24l10-12Z"
										transform="translate(-335.6414 -100.11607)" fill="#ffb8b8" />
									<path
										d="M849.8586,301.93948l9,9s6,84-6,101-67,63-70,60-22-18-18-20,57.18287-57.56942,57.18287-57.56942l-4.18287-77.43058Z"
										transform="translate(-335.6414 -100.11607)" opacity="0.1" />
									<path
										d="M853.8586,298.93948l9,9s6,84-6,101-67,63-70,60-22-18-18-20,57.18287-57.56942,57.18287-57.56942l-4.18287-77.43058Z"
										transform="translate(-335.6414 -100.11607)" fill="#49c2d0" />
									<path
										d="M786.797,157.64461s-11.5575-4.20273-27.31774,4.72807l8.40546,2.10136s-12.60819,1.05068-14.18421,17.8616h5.77875s-3.67739,14.70955,0,18.91228l2.364-4.4654,6.82943,13.65887,1.576-6.82944,3.15205,1.05069,2.10137-11.03217s5.25341,7.88012,9.45614,8.40546V195.2065s11.5575,13.13352,15.23489,12.60818l-5.25341-7.35477,7.35477,1.576-3.152-5.25341,18.91228,5.25341-4.20273-5.25341,13.13352,4.20273,6.3041,2.6267s8.9308-20.4883-3.67739-34.67251S798.61712,151.60318,786.797,157.64461Z"
										transform="translate(-335.6414 -100.11607)" fill="#2f2e41" /></svg>

							</div>
							<div class="col-sm-6">

								<button id="closeModal" type="button"
									class="close float-right m-3" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>

								<form id="regForm" method="post" th:action="@{/redirectLogin}">
									<div class="form-group">
										<input name="emaillogin" id="emaillogin" type="email"
											class="form-control" placeholder="E-mail"
											oninput="this.className = ''">

									</div>

									<div class="form-group">
										<input name="senhalogin" id="senhalogin" type="password"
											class="form-control" placeholder="Senha"
											oninput="this.className = ''"> <small id="smallError">Email
											e/ou senha incorretos </small>
									</div>
									<div>
										<a href="/recuperarSenha" class="btn-azul">Esqueceu a
											senha?<br> <br>
										</a>
									</div>

								</form>
								<button id="login" onClick="valida()">Fazer login</button>
							</div>

						</div>
					</div>


				</div>
			</div>
		</div>


	</div>
	<!-- LOGGED TOP NAV -->
	<nav th:fragment="loggedtopnav" class="nav">
		<script th:inline="javascript"> 
		var logo= function(){
			if($( window ).width()<=710){
				$(".logsdo").addClass("small");
				$(".buscar").hide();
			}
			else{
				$(".logo").removeClass("small");
				$(".buscar").show();
			}
		};
		
		$(window).on("resize", logo);
		$(window).on("load", logo);
		const search = function(pesquisa){
			
			$.ajax({
	    	    url:'searchResult',
	    	    type: "GET",
	            contentType: "application/json",
	            async: false,
	    	    data:{
	    	    	'texto':$('#search').val().trim().split(' ')
	    	    },
	    	    success: function(response) {
	    	    	console.log('deu certo')
					$('#container').html(response)
    	        },
	    	    error: function(error){
	    	    	console.log(error)
	    	    }
	    	})

		}


	</script>

		<div class="search">
			<form id="searchForm" th:action="@{/search}" method="post">
				<input type="text" name="search" id="search"
					placeholder="Pesquise..." />
			</form>
			<div class="item">
				<i style='font-size: 15px; justify-content: flex-end' class='fas'>&#xf002;</i>
			</div>
		</div>

		<div class="nav-right">
			<div class="item">
				<i style='font-size: 20px' class='far'>&#xf0f3;</i>
			</div>
			<div class="item hovered">
				<i style='font-size: 20px' class='far'>&#xf007;</i>
			</div>
		</div>
	</nav>

	<!-- DEVELOPER SIDEBAR -->
	<div th:fragment="sidebardev" class="sidebar-column">
		<ul class="sidebar">
			<li class="icon"><img alt="Logo" th:src="@{/imgs/df-logo.svg}" />
			</li>
			<li class="item" id="inicio"><i class="fas fa-home"></i> <a
				th:attr="href='/devDashboard'">In√≠cio</a></li>
			<li class="item" id="desafios"><i class="fas fa-th-list"></i> <a
				th:attr="href='/devMeusDesafios'">Desafios inscritos</a></li>
			<li class="item" id="config"><i class="fas fa-cog"></i> <a
				th:attr="href='/devConfiguracoes'">Configura√ß√µes</a></li>
			<li class="item"><i class="fas fa-sign-out-alt"></i> <a
				th:attr="href='/logout'">Sair</a></li>
		</ul>
		<script>
            	const url = window.location.href
            	
            	if(url === 'http://localhost:8080/devDashboard')
            		document.getElementById('inicio').className += ' active'
            	if(url === 'http://localhost:8080/devMeusDesafios')
            		document.getElementById('desafios').className += ' active'
         		if(url === 'http://localhost:8080/devConfiguracoes')
         			document.getElementById('config').className += ' active'
            </script>

	</div>
	<!-- EMPRESA SIDEBAR -->
	<div th:fragment="sidebaremp" class="sidebar-column">
		<ul class="sidebar">
			<li class="icon"><img alt="Logo" th:src="@{/imgs/df-logo.svg}" />
			</li>
			<li class="item" id="inicio"><i class="fas fa-home"></i> <a
				th:attr="href='/empDashboard'">In√≠cio</a></li>
			<li class="item" id="desafios"><i class="fas fa-th-list"></i> <a
				th:attr="href='/empMeusDesafios'">Meus Desafios</a></li>
			<li class="item" id="config"><i class="fas fa-cog"></i> <a
				th:attr="href='/empConfiguracoes'">Configura√ß√µes</a></li>
			<li class="item"><i class="fas fa-sign-out-alt"></i> <a
				th:attr="href='/logout'">Sair</a></li>
		</ul>
		<script>
            	const url = window.location.href
            	
            	if(url === 'http://localhost:8080/empDashboard')
            		document.getElementById('inicio').className += ' active'
            	if(url === 'http://localhost:8080/empMeusDesafios')
            		document.getElementById('desafios').className += ' active'
         		if(url === 'http://localhost:8080/empConfiguracoes')
         			document.getElementById('config').className += ' active'
            </script>

	</div>
	<!-- CORP SIDEBAR -->
	<!-- FOOTER -->

	<footer class="footer" th:fragment="footer">
		<!--  
		<div class="container py-5 px-5">
			<div class="row">
				<div class="col-12 col-md text-center">
					<img class="img-fluid noturno" th:src="@{/imgs/logoNoturna.png}">
				</div>
				<div class="col-6 col-md">
					<h5>Desenvolvedores</h5>
					<ul class="list-unstyled text-small">
						<li><a href="https://github.com/Erigoddess">Erica
								Medeiros</a></li>
						<li><a href="https://github.com/MarlonFL15">Marlon de
								Faria</a></li>
						<li><a href="https://github.com/mnik3007">Monike Freitas</a>
						</li>
						<li><a href="https://github.com/Ronaldo64">Ronaldo Costa</a>
						</li>
					</ul>
				</div>
				<div class="col-6 col-md">
					<h5>Endere√É¬ßo</h5>
					<ul class="list-unstyled text-small">
						<li><a href="https://goo.gl/maps/hEkmvv2gVBFypU7g6">Av.
								Sete de Setembro, 1975, IFAM, Manaus, AM - Brasil</a></li>
					</ul>
				</div>
				<div class="col-6 col-md">
					<h5>Contato</h5>
					<ul class="list-unstyled text-small">
						<li><a href="#">devfinder@gmail.com</a></li>
					</ul>
				</div>
			</div>
		</div>
		-->
	</footer>

</body>
</html>
