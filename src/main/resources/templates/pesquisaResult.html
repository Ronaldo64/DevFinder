<head>
<meta charset="UTF-8">
</head>
<div class="row">
	<div id="result" class="filtro col-12 text-center"></div>
	<div class="col-xl-8 m-1 box white mx-auto">
		<div class="row">
			<h6 class="filtro col-12">Desenvolvedores</h6>
			<ul id="ulDevs" class="emps col-12 d-flex flex-wrap">
			</ul>
			<h6 class="filtro col-12">Empresas</h6>
			<ul id="ulEmps" class="emps col-12 d-flex flex-wrap">
			</ul>

		</div>
	</div>
	<div class="col-xl-8 mb-2 p-0 mx-auto row">
		<div class="col-md-3 filtro mt-2">Desafios</div>

		<div class="col-lg-7 filtro mt-2 ml-lg-auto">

			Estado <select class="white filtro-estado">
				<option>Todos</option>
				<option>Finalizados</option>
				<option>Em andamento</option>
			</select> √Årea <select class="white filtro-area">
				<option>Todos</option>
				<option>Front-end</option>
				<option>Back-end</option>
				<option>Full stack</option>
				<option>Data science</option>
			</select>


		</div>
		<span class="none-result">Nenhum resultado encontrado</span>
		<div id="desfios" class="desafios row"></div>
	</div>
</div>

<!-- <div class="bg-degrade azul">
	<div class="container">
		<div class="row">
			<div class="col-sm-12 perfil-top p-4">
				<h3 class="col-lg-12  text-center" style="padding: 5px"
					id="result">
				</h3>

				<div  th:if="${emps.size()}" class="col-sm-12 user">
					<h4>Empresas</h4>
						<ul id="ulEmpresas">
							<!-- 
							<tr th:each="emp: ${emps}">
								<li>
									<span>
										<span th:if="${emp.foto == null}">
	    									<svg width="50" height="50">
	                                    		<circle cx="25" cy="25" r="25"fill="blue" />
	                                		</svg>
	    								</span>
	    								<span th:if="${emp.foto != null}">
											<img style="border-radius: 50%;" width="50" height="50" th:src="@{'/imageEmp/'+${emp.email}}" />
	                                	
	    								</span>
    								</span>
		                            <a th:href="@{'empresaById/'+ ${emp.email}}">
										<h5 th:text="${emp.razaoSocial}"></h5>
									</a>
								</li>
							
							</tr>
							
						</ul>
				</div>
				<div th:if="${devs.size()}" class="col-sm-12 user">
					<h4 >
						Desenvolvedores
					</h4>
					
					<ul id="ulDevs">
						<!-- 
						<tr th:each="dev: ${devs}">
							<li>
								<span>
                            	    <span th:if="${dev.foto == null}">
    									<svg width="50" height="50">
                                    		<circle cx="25" cy="25" r="25"fill="blue" />
                                		</svg>
    								</span>
    								<span th:if="${dev.foto != null}">
										<img style="border-radius: 50%;" width="50" height="50" th:src="@{'/imageDev/'+${dev.email}}" />
                                	
    								</span>
    							</span>
								
	                             <a  th:href="@{'desenvolvedorById/'+ ${dev.email}}">
									<h5 th:text="${dev.nome}"></h5>
	                             </a>
							</li>
						
						</tr>
						 
					</ul>
					
				</div>
				<div  th:if="${desafios.size()}" class="col-sm-12">

					<h4>Desafios</h4>
					<div class="row">
						<div class="col-sm-4" data-toggle="collapse"
							href="#collapseExample" role="button" aria-expanded="false"
							aria-controls="collapseExample">
							<h5>Filtros(Clique aqui)</h5>
						</div>
					</div>
					<div class="row collapse" id="collapseExample">
						<div class="col-sm-3">
							<h4>Filtro 1</h4>
							<ul>
								<li>checkbox</li>
								<li>checkbox</li>
								<li>checkbox</li>
							</ul>
						</div>
						<div class="col-sm-3">
							<h4>Filtro 2</h4>
							<ul>
								<li>checkbox</li>
								<li>checkbox</li>
								<li>checkbox</li>
							</ul>
						</div>
					</div>
					<div class="desafios">
						
					</div>
				</div>
			</div>
		</div>
	</div>
	
	
</div>
-->
<script th:src="@{/js/moldesComponentes.js}"></script>
<script th:inline="javascript"> 
	var devs = [[${devs}]]
	var emps = [[${emps}]]
	var desafios = [[${desafios}]]
	devs.forEach(function(el){
		criarDesenvolvedorPesquisa(el)
	})
	emps.forEach(function(el){
		criarEmpresaPesquisa(el)
	})
	for(var i = 0; i < desafios.length; i++){
			var emailEmpresa = desafios[i].emailEmpresa;
			var id = desafios[i].id
			//console.log(desafios[i])
			$.ajax({
    	    	url:'/desafioHabilidades/'+emailEmpresa+'/'+id,
	    	    type: "GET",
	    	    async: false,
	            contentType: "application/json",
	    	    success: function(response) {
	    	    	var habilidades = []
	    	    
	    	    	for(var j = 0; j < response.length; j++){
	    	    		habilidades.push(response[j].habilidade)
	    	    	}
	    	    	desafios[i].habilidades = habilidades
	    	    	
    	        },
	    	    error: function(error){
	    	    	console.log(error)
	    	    }
			})	
		}
		desafios.forEach(function (item, index) {
			
		    criarDesafioEmpresa(item.id, item.nome, item.empresa.nomeFantasia, 
		    			item.areaDesenvolvimento, item.descricao, item.habilidades, item.dataFim, item.horarioFim)
		})
 
</script>
<script th:src="@{/js/filtroDesafio.js}"></script>
<!-- 
<script th:inline="javascript">
	$('#linkLogin').html('Resultados para '+$('#search').val())
	var emps = [[${emps}]]
	var devs = [[${devs}]]
	var desafios = [[${desafios}]]
	console.log(devs)
	
	emps.forEach(function(item, index){
		//console.log('ai ai')
		criarEmpresaPesquisa(item)
	})

	devs.forEach(function(item, index){
		console.log('ai ai')
		criarDesenvolvedorPesquisa(item)
	})
		
		
</script>
-->